<main class="container">
  <article class="card shadow-sm">
    <div class="card-body">
      <h4 class="mb-3">{{title}} usuario</h4>

      <form [formGroup]="userForm" (ngSubmit)="getDataForm()" novalidate>
        <div class="mb-3">
          <label class="form-label">Nombre de Usuario</label>
          <input
            class="form-control"
            formControlName="first_name"
            placeholder="Nombre"
          />
          <small class="text-danger" [hidden]="!(userForm.get('first_name')?.touched && userForm.get('first_name')?.errors) ">
            <span [hidden]="!userForm.get('first_name')?.errors?.['required']">
              El nombre es obligatorio.</span
            >
          </small>
        </div>

        <div class="mb-3">
          <label class="form-label">Apellido</label>
          <input
            class="form-control"
            formControlName="last_name"
            placeholder="Apellido"
          />
          <small class="text-danger" [hidden]="!(userForm.get('last_name')?.touched && userForm.get('last_name')?.errors) ">
          <span [hidden]="!userForm.get('last_name')?.errors?.['required']" >El apellido es obligatorio.</span>
          </small>
        </div>

        <div class="mb-3">
          <label class="form-label">Email</label>
          <input
            type="email"
            class="form-control"
            formControlName="email"
            placeholder="email@dominio.com"
          />
          <small class="text-danger" [hidden]="!(userForm.get('email')?.touched && userForm.get('email')?.errors) ">
            <span [hidden]="!userForm.get('email')?.errors?.['required']"
              >El email es obligatorio.</span
            >
            <span [hidden]="!userForm.get('email')?.errors?.['email']"
              >Formato de email inv√°lido.</span
            >
          </small>
        </div>

        <div class="mb-3">
          <label class="form-label">Imagen (URL)</label>
          <input
            class="form-control"
            formControlName="image"
            placeholder="https://..."
          />
          <small
            class="text-danger"
            [hidden]="
              !(userForm.get('image')?.touched && userForm.get('image')?.errors)
            "
          >
            <span [hidden]="!userForm.get('image')?.errors?.['required']"
              >La URL es obligatoria.</span
            >
            <span [hidden]="!userForm.get('image')?.errors?.['pattern']">
              Debe comenzar por http:// o https://
            </span>
          </small>
        </div>

        <div class="d-flex gap-2">
          <button class="btn btn-success" type="submit">Guardar</button>

          <button
            class="btn btn-secondary"
            type="button"
            (click)="goBack()"
            routerLink="/home"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </article>
</main>
